"use strict";(self.webpackChunkuser_manager=self.webpackChunkuser_manager||[]).push([[76],{138:(g,u,o)=>{o.d(u,{u:()=>h});var a=o(5312),i=o(4438),l=o(1626);let h=(()=>{class n{constructor(e){this.http=e,this.baseUrl=a.c.protocol+"//"+a.c.host+"/"+a.c.root}getAccounts(){return this.http.get(this.baseUrl+"/getAccounts")}deleteAccount(e){return this.http.post(this.baseUrl+"/deleteAccount",{id:e.toString()})}getAccount(e){return this.http.get(`${this.baseUrl+"/getAccount"}/${e}`)}updateAccount(e){return this.http.post(this.baseUrl+"/updateAccount",e)}static{this.\u0275fac=function(c){return new(c||n)(i.KVO(l.Qq))}}static{this.\u0275prov=i.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})()},4953:(g,u,o)=>{o.d(u,{K:()=>e});var a=o(4412),i=o(8810),l=o(6354),h=o(9437),n=o(4438),_=o(138);let e=(()=>{class c{constructor(s){this.accountsService=s,this.subscriptions=[],this.firstLoad=!0,this.init()}init(){this.getAccountsSubject=new a.t(null),this.getAccounts=this.getAccountsSubject.asObservable()}getAllAccounts(){const s=this.accountsService.getAccounts().subscribe(t=>{t.success?this.getAccountsSubject.next(t.items):console.error("Desila se gre\u0161ka prilikom dohvatanja naloga.")},t=>{console.error("Gre\u0161ka prilikom dohvatanja naloga:",t)});this.subscriptions.push(s),this.firstLoad=!1}deleteAccount(s){const t=this.accountsService.deleteAccount(s).subscribe(()=>{console.log(`Nalog sa ID-jem ${s} je obrisan.`),this.getAllAccounts()},r=>{console.error("Gre\u0161ka prilikom brisanja naloga:",r)});this.subscriptions.push(t)}getSingleAccount(s){return this.accountsService.getAccount(s).pipe((0,l.T)(t=>{if(t.success&&t.items.length>0)return t.items[0];throw new Error("Gre\u0161ka prilikom dohvatanja naloga")}),(0,h.W)(t=>(console.error("Gre\u0161ka prilikom dohvatanja jednog naloga:",t),(0,i.$)(t))))}updateAccount(s){const t=this.accountsService.updateAccount(s).subscribe(r=>{r.success?(console.log("Nalog je uspe\u0161no a\u017euriran:",r.items),this.getAllAccounts()):console.error("Gre\u0161ka prilikom a\u017euriranja naloga.")},r=>{console.error("Gre\u0161ka prilikom a\u017euriranja naloga:",r)});this.subscriptions.push(t)}unsubscribeAll(){this.subscriptions.forEach(s=>s.unsubscribe())}static{this.\u0275fac=function(t){return new(t||c)(n.KVO(_.u))}}static{this.\u0275prov=n.jDH({token:c,factory:c.\u0275fac,providedIn:"root"})}}return c})()}}]);