"use strict";(self.webpackChunkuser_manager=self.webpackChunkuser_manager||[]).push([[727],{9727:(y,i,o)=>{o.r(i),o.d(i,{AddContactComponent:()=>b});var n=o(9417),u=o(3887),t=o(4438),c=o(5312),p=o(1626);let h=(()=>{class e{constructor(a){this.http=a,this.baseUrl=c.c.protocol+"//"+c.c.host+"/"+c.c.root}registerContact(a){return this.http.post(this.baseUrl+"/addContact",a)}static{this.\u0275fac=function(r){return new(r||e)(t.KVO(p.Qq))}}static{this.\u0275prov=t.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var m=o(9012),f=o(9631),l=o(2408),v=o(8834),g=o(2798),F=o(3),C=o(8018);let b=(()=>{class e{constructor(a,r,s,d){this.fb=a,this.addContactService=r,this.router=s,this.route=d,this.accountId=this.route.snapshot.paramMap.get("account_id")||"",console.log(this.accountId),this.registerForm=this.fb.group({account_id:[this.accountId||"",n.k0.required],type:["",n.k0.required],contact:["",[n.k0.required]],primary_contact:["",[n.k0.required]]})}onSubmit(a){if(a.valid){const r={account_id:Number(a.value.account_id),type:a.value.type,contact:a.value.contact,primary_contact:"true"===a.value.primary_contact||!0===a.value.primary_contact};console.log("Sending contact data:",r),this.addContactService.registerContact(r).subscribe(s=>{console.log("Contact registered:",s),this.router.navigate(["/contacts"])},s=>{console.error("Error registering contact:",s)})}else console.error("Form is invalid")}static{this.\u0275fac=function(r){return new(r||e)(t.rXU(n.ok),t.rXU(h),t.rXU(m.Ix),t.rXU(m.nX))}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["app-add-contact"]],decls:33,vars:27,consts:[[3,"ngSubmit","formGroup"],["appearance","fill"],["matInput","","id","account_id","formControlName","account_id",3,"readonly"],["id","type","formControlName","type"],["value","phone"],["value","email"],["value","address"],["matInput","","id","contact","formControlName","contact"],["matInput","","id","primary_contact","formControlName","primary_contact"],["mat-button","","type","submit",3,"disabled"]],template:function(r,s){1&r&&(t.j41(0,"form",0),t.bIt("ngSubmit",function(){return s.onSubmit(s.registerForm)}),t.j41(1,"mat-form-field",1)(2,"mat-label"),t.EFF(3),t.nI1(4,"translate"),t.k0s(),t.nrm(5,"input",2),t.k0s(),t.j41(6,"mat-form-field",1)(7,"mat-label"),t.EFF(8),t.nI1(9,"translate"),t.k0s(),t.j41(10,"mat-select",3)(11,"mat-option",4),t.EFF(12),t.nI1(13,"translate"),t.k0s(),t.j41(14,"mat-option",5),t.EFF(15),t.nI1(16,"translate"),t.k0s(),t.j41(17,"mat-option",6),t.EFF(18),t.nI1(19,"translate"),t.k0s()()(),t.j41(20,"mat-form-field",1)(21,"mat-label"),t.EFF(22),t.nI1(23,"translate"),t.k0s(),t.nrm(24,"input",7),t.k0s(),t.j41(25,"mat-form-field",1)(26,"mat-label"),t.EFF(27),t.nI1(28,"translate"),t.k0s(),t.nrm(29,"input",8),t.k0s(),t.j41(30,"button",9),t.EFF(31),t.nI1(32,"translate"),t.k0s()()),2&r&&(t.Y8G("formGroup",s.registerForm),t.R7$(3),t.JRh(t.bMT(4,11,"account_id")),t.R7$(2),t.Y8G("readonly",!0),t.R7$(3),t.JRh(t.bMT(9,13,"contact_type")),t.R7$(4),t.JRh(t.bMT(13,15,"phone")),t.R7$(3),t.JRh(t.bMT(16,17,"email")),t.R7$(3),t.JRh(t.bMT(19,19,"address")),t.R7$(4),t.JRh(t.bMT(23,21,"contact")),t.R7$(5),t.JRh(t.bMT(28,23,"primary_contact")),t.R7$(3),t.Y8G("disabled",!s.registerForm.valid),t.R7$(),t.JRh(t.bMT(32,25,"register_contact")))},dependencies:[u.G,n.qT,n.me,n.BC,n.cb,n.j4,n.JD,f.fg,l.rl,l.nJ,v.$z,g.VO,F.wT,C.D9],encapsulation:2})}}return e})()}}]);